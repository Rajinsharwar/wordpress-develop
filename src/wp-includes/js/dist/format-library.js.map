{"version":3,"file":"format-library.js","mappings":"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","sources":["webpack://wp/./node_modules/@wordpress/format-library/build-module/bold/@wordpress/format-library/src/bold/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/code/@wordpress/format-library/src/code/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/@wordpress/format-library/src/default-formats.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/image/@wordpress/format-library/src/image/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/italic/@wordpress/format-library/src/italic/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/keyboard/@wordpress/format-library/src/keyboard/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/language/@wordpress/format-library/src/language/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/link/@wordpress/format-library/src/link/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/link/@wordpress/format-library/src/link/inline.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/link/@wordpress/format-library/src/link/use-link-instance-key.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/link/@wordpress/format-library/src/link/utils.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/strikethrough/@wordpress/format-library/src/strikethrough/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/subscript/@wordpress/format-library/src/subscript/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/superscript/@wordpress/format-library/src/superscript/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/text-color/@wordpress/format-library/src/text-color/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/text-color/@wordpress/format-library/src/text-color/inline.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/underline/@wordpress/format-library/src/underline/index.js","webpack://wp/./node_modules/@wordpress/format-library/build-module/unknown/@wordpress/format-library/src/unknown/index.js","webpack://wp/./node_modules/@wordpress/icons/build-module/icon/@wordpress/icons/src/icon/index.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/button.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/code.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/color.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/format-bold.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/format-italic.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/format-strikethrough.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/help.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/keyboard-return.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/language.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/link-off.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/link.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/subscript.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/superscript.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/text-color.js","webpack://wp/external window [\"wp\",\"a11y\"]","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"htmlEntities\"]","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/external window [\"wp\",\"richText\"]","webpack://wp/external window [\"wp\",\"url\"]","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/./node_modules/@wordpress/format-library/build-module/@wordpress/format-library/src/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { toggleFormat } from '@wordpress/rich-text';\nimport {\n\tRichTextToolbarButton,\n\tRichTextShortcut,\n\t__unstableRichTextInputEvent,\n} from '@wordpress/block-editor';\nimport { formatBold } from '@wordpress/icons';\n\nconst name = 'core/bold';\nconst title = __( 'Bold' );\n\nexport const bold = {\n\tname,\n\ttitle,\n\ttagName: 'strong',\n\tclassName: null,\n\tedit( { isActive, value, onChange, onFocus } ) {\n\t\tfunction onToggle() {\n\t\t\tonChange( toggleFormat( value, { type: name, title } ) );\n\t\t}\n\n\t\tfunction onClick() {\n\t\t\tonChange( toggleFormat( value, { type: name } ) );\n\t\t\tonFocus();\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<RichTextShortcut\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tcharacter=\"b\"\n\t\t\t\t\tonUse={ onToggle }\n\t\t\t\t/>\n\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\tname=\"bold\"\n\t\t\t\t\ticon={ formatBold }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t\tonClick={ onClick }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\tshortcutType=\"primary\"\n\t\t\t\t\tshortcutCharacter=\"b\"\n\t\t\t\t/>\n\t\t\t\t<__unstableRichTextInputEvent\n\t\t\t\t\tinputType=\"formatBold\"\n\t\t\t\t\tonInput={ onToggle }\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { toggleFormat, remove, applyFormat } from '@wordpress/rich-text';\nimport {\n\tRichTextToolbarButton,\n\tRichTextShortcut,\n} from '@wordpress/block-editor';\nimport { code as codeIcon } from '@wordpress/icons';\n\nconst name = 'core/code';\nconst title = __( 'Inline code' );\n\nexport const code = {\n\tname,\n\ttitle,\n\ttagName: 'code',\n\tclassName: null,\n\t__unstableInputRule( value ) {\n\t\tconst BACKTICK = '`';\n\t\tconst { start, text } = value;\n\t\tconst characterBefore = text[ start - 1 ];\n\n\t\t// Quick check the text for the necessary character.\n\t\tif ( characterBefore !== BACKTICK ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( start - 2 < 0 ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tconst indexBefore = text.lastIndexOf( BACKTICK, start - 2 );\n\t\tif ( indexBefore === -1 ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tconst startIndex = indexBefore;\n\t\tconst endIndex = start - 2;\n\n\t\tif ( startIndex === endIndex ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tvalue = remove( value, startIndex, startIndex + 1 );\n\t\tvalue = remove( value, endIndex, endIndex + 1 );\n\t\tvalue = applyFormat( value, { type: name }, startIndex, endIndex );\n\n\t\treturn value;\n\t},\n\tedit( { value, onChange, onFocus, isActive } ) {\n\t\tfunction onClick() {\n\t\t\tonChange( toggleFormat( value, { type: name, title } ) );\n\t\t\tonFocus();\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<RichTextShortcut\n\t\t\t\t\ttype=\"access\"\n\t\t\t\t\tcharacter=\"x\"\n\t\t\t\t\tonUse={ onClick }\n\t\t\t\t/>\n\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\ticon={ codeIcon }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t\tonClick={ onClick }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t},\n};\n","/**\n * Internal dependencies\n */\nimport { bold } from './bold';\nimport { code } from './code';\nimport { image } from './image';\nimport { italic } from './italic';\nimport { link } from './link';\nimport { strikethrough } from './strikethrough';\nimport { underline } from './underline';\nimport { textColor } from './text-color';\nimport { subscript } from './subscript';\nimport { superscript } from './superscript';\nimport { keyboard } from './keyboard';\nimport { unknown } from './unknown';\nimport { language } from './language';\n\nexport default [\n\tbold,\n\tcode,\n\timage,\n\titalic,\n\tlink,\n\tstrikethrough,\n\tunderline,\n\ttextColor,\n\tsubscript,\n\tsuperscript,\n\tkeyboard,\n\tunknown,\n\tlanguage,\n];\n","/**\n * WordPress dependencies\n */\nimport {\n\tPath,\n\tSVG,\n\tPopover,\n\tButton,\n\t__experimentalNumberControl as NumberControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { insertObject, useAnchor } from '@wordpress/rich-text';\nimport {\n\tMediaUpload,\n\tRichTextToolbarButton,\n\tMediaUploadCheck,\n} from '@wordpress/block-editor';\nimport { keyboardReturn } from '@wordpress/icons';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nconst name = 'core/image';\nconst title = __( 'Inline image' );\n\nexport const image = {\n\tname,\n\ttitle,\n\tkeywords: [ __( 'photo' ), __( 'media' ) ],\n\tobject: true,\n\ttagName: 'img',\n\tclassName: null,\n\tattributes: {\n\t\tclassName: 'class',\n\t\tstyle: 'style',\n\t\turl: 'src',\n\t\talt: 'alt',\n\t},\n\tedit: Edit,\n};\n\nfunction InlineUI( { value, onChange, activeObjectAttributes, contentRef } ) {\n\tconst { style } = activeObjectAttributes;\n\tconst [ width, setWidth ] = useState( style?.replace( /\\D/g, '' ) );\n\tconst popoverAnchor = useAnchor( {\n\t\teditableContentElement: contentRef.current,\n\t\tsettings: image,\n\t} );\n\n\treturn (\n\t\t<Popover\n\t\t\tplacement=\"bottom\"\n\t\t\tfocusOnMount={ false }\n\t\t\tanchor={ popoverAnchor }\n\t\t\tclassName=\"block-editor-format-toolbar__image-popover\"\n\t\t>\n\t\t\t<form\n\t\t\t\tclassName=\"block-editor-format-toolbar__image-container-content\"\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tconst newReplacements = value.replacements.slice();\n\n\t\t\t\t\tnewReplacements[ value.start ] = {\n\t\t\t\t\t\ttype: name,\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t...activeObjectAttributes,\n\t\t\t\t\t\t\tstyle: width ? `width: ${ width }px;` : '',\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tonChange( {\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\treplacements: newReplacements,\n\t\t\t\t\t} );\n\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<HStack alignment=\"bottom\" spacing=\"0\">\n\t\t\t\t\t<NumberControl\n\t\t\t\t\t\tclassName=\"block-editor-format-toolbar__image-container-value\"\n\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\tvalue={ width }\n\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\tonChange={ ( newWidth ) => setWidth( newWidth ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"block-editor-format-toolbar__image-container-button\"\n\t\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t</form>\n\t\t</Popover>\n\t);\n}\n\nfunction Edit( {\n\tvalue,\n\tonChange,\n\tonFocus,\n\tisObjectActive,\n\tactiveObjectAttributes,\n\tcontentRef,\n} ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\n\tfunction openModal() {\n\t\tsetIsModalOpen( true );\n\t}\n\n\tfunction closeModal() {\n\t\tsetIsModalOpen( false );\n\t}\n\n\treturn (\n\t\t<MediaUploadCheck>\n\t\t\t<RichTextToolbarButton\n\t\t\t\ticon={\n\t\t\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<Path d=\"M4 18.5h16V17H4v1.5zM16 13v1.5h4V13h-4zM5.1 15h7.8c.6 0 1.1-.5 1.1-1.1V6.1c0-.6-.5-1.1-1.1-1.1H5.1C4.5 5 4 5.5 4 6.1v7.8c0 .6.5 1.1 1.1 1.1zm.4-8.5h7V10l-1-1c-.3-.3-.8-.3-1 0l-1.6 1.5-1.2-.7c-.3-.2-.6-.2-.9 0l-1.3 1V6.5zm0 6.1l1.8-1.3 1.3.8c.3.2.7.2.9-.1l1.5-1.4 1.5 1.4v1.5h-7v-.9z\" />\n\t\t\t\t\t</SVG>\n\t\t\t\t}\n\t\t\t\ttitle={ title }\n\t\t\t\tonClick={ openModal }\n\t\t\t\tisActive={ isObjectActive }\n\t\t\t/>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<MediaUpload\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tonSelect={ ( { id, url, alt, width: imgWidth } ) => {\n\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\tinsertObject( value, {\n\t\t\t\t\t\t\t\ttype: name,\n\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\tclassName: `wp-image-${ id }`,\n\t\t\t\t\t\t\t\t\tstyle: `width: ${ Math.min(\n\t\t\t\t\t\t\t\t\t\timgWidth,\n\t\t\t\t\t\t\t\t\t\t150\n\t\t\t\t\t\t\t\t\t) }px;`,\n\t\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\t\talt,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tonFocus();\n\t\t\t\t\t} }\n\t\t\t\t\tonClose={ closeModal }\n\t\t\t\t\trender={ ( { open } ) => {\n\t\t\t\t\t\topen();\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isObjectActive && (\n\t\t\t\t<InlineUI\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tactiveObjectAttributes={ activeObjectAttributes }\n\t\t\t\t\tcontentRef={ contentRef }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</MediaUploadCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { toggleFormat } from '@wordpress/rich-text';\nimport {\n\tRichTextToolbarButton,\n\tRichTextShortcut,\n\t__unstableRichTextInputEvent,\n} from '@wordpress/block-editor';\nimport { formatItalic } from '@wordpress/icons';\n\nconst name = 'core/italic';\nconst title = __( 'Italic' );\n\nexport const italic = {\n\tname,\n\ttitle,\n\ttagName: 'em',\n\tclassName: null,\n\tedit( { isActive, value, onChange, onFocus } ) {\n\t\tfunction onToggle() {\n\t\t\tonChange( toggleFormat( value, { type: name, title } ) );\n\t\t}\n\n\t\tfunction onClick() {\n\t\t\tonChange( toggleFormat( value, { type: name } ) );\n\t\t\tonFocus();\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<RichTextShortcut\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tcharacter=\"i\"\n\t\t\t\t\tonUse={ onToggle }\n\t\t\t\t/>\n\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\tname=\"italic\"\n\t\t\t\t\ticon={ formatItalic }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t\tonClick={ onClick }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\tshortcutType=\"primary\"\n\t\t\t\t\tshortcutCharacter=\"i\"\n\t\t\t\t/>\n\t\t\t\t<__unstableRichTextInputEvent\n\t\t\t\t\tinputType=\"formatItalic\"\n\t\t\t\t\tonInput={ onToggle }\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { toggleFormat } from '@wordpress/rich-text';\nimport { RichTextToolbarButton } from '@wordpress/block-editor';\nimport { button } from '@wordpress/icons';\n\nconst name = 'core/keyboard';\nconst title = __( 'Keyboard input' );\n\nexport const keyboard = {\n\tname,\n\ttitle,\n\ttagName: 'kbd',\n\tclassName: null,\n\tedit( { isActive, value, onChange, onFocus } ) {\n\t\tfunction onToggle() {\n\t\t\tonChange( toggleFormat( value, { type: name, title } ) );\n\t\t}\n\n\t\tfunction onClick() {\n\t\t\tonToggle();\n\t\t\tonFocus();\n\t\t}\n\n\t\treturn (\n\t\t\t<RichTextToolbarButton\n\t\t\t\ticon={ button }\n\t\t\t\ttitle={ title }\n\t\t\t\tonClick={ onClick }\n\t\t\t\tisActive={ isActive }\n\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t/>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * WordPress dependencies\n */\nimport { RichTextToolbarButton } from '@wordpress/block-editor';\nimport {\n\tTextControl,\n\tSelectControl,\n\tButton,\n\tPopover,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { applyFormat, removeFormat, useAnchor } from '@wordpress/rich-text';\nimport { language as languageIcon } from '@wordpress/icons';\n\nconst name = 'core/language';\nconst title = __( 'Language' );\n\nexport const language = {\n\tname,\n\ttagName: 'bdo',\n\tclassName: null,\n\tedit: Edit,\n\ttitle,\n};\n\nfunction Edit( { isActive, value, onChange, contentRef } ) {\n\tconst [ isPopoverVisible, setIsPopoverVisible ] = useState( false );\n\tconst togglePopover = () => {\n\t\tsetIsPopoverVisible( ( state ) => ! state );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<RichTextToolbarButton\n\t\t\t\ticon={ languageIcon }\n\t\t\t\tlabel={ title }\n\t\t\t\ttitle={ title }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tif ( isActive ) {\n\t\t\t\t\t\tonChange( removeFormat( value, name ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttogglePopover();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tisActive={ isActive }\n\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t/>\n\t\t\t{ isPopoverVisible && (\n\t\t\t\t<InlineLanguageUI\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tonClose={ togglePopover }\n\t\t\t\t\tcontentRef={ contentRef }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction InlineLanguageUI( { value, contentRef, onChange, onClose } ) {\n\tconst popoverAnchor = useAnchor( {\n\t\teditableContentElement: contentRef.current,\n\t\tsettings: language,\n\t} );\n\n\tconst [ lang, setLang ] = useState( '' );\n\tconst [ dir, setDir ] = useState( 'ltr' );\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"block-editor-format-toolbar__language-popover\"\n\t\t\tanchor={ popoverAnchor }\n\t\t\tplacement=\"bottom\"\n\t\t\tonClose={ onClose }\n\t\t>\n\t\t\t<form\n\t\t\t\tclassName=\"block-editor-format-toolbar__language-container-content\"\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tonChange(\n\t\t\t\t\t\tapplyFormat( value, {\n\t\t\t\t\t\t\ttype: name,\n\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\tlang,\n\t\t\t\t\t\t\t\tdir,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t\t\tonClose();\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ title }\n\t\t\t\t\tvalue={ lang }\n\t\t\t\t\tonChange={ ( val ) => setLang( val ) }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t'A valid language attribute, like \"en\" or \"fr\".'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __( 'Text direction' ) }\n\t\t\t\t\tvalue={ dir }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Left to right' ),\n\t\t\t\t\t\t\tvalue: 'ltr',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Right to left' ),\n\t\t\t\t\t\t\tvalue: 'rtl',\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t\tonChange={ ( val ) => setDir( val ) }\n\t\t\t\t/>\n\t\t\t\t<HStack alignment=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\ttext={ __( 'Apply' ) }\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t</form>\n\t\t</Popover>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport {\n\tgetTextContent,\n\tapplyFormat,\n\tremoveFormat,\n\tslice,\n\tisCollapsed,\n} from '@wordpress/rich-text';\nimport { isURL, isEmail } from '@wordpress/url';\nimport {\n\tRichTextToolbarButton,\n\tRichTextShortcut,\n} from '@wordpress/block-editor';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { link as linkIcon, linkOff } from '@wordpress/icons';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport InlineLinkUI from './inline';\nimport { isValidHref } from './utils';\n\nconst name = 'core/link';\nconst title = __( 'Link' );\n\nfunction Edit( {\n\tisActive,\n\tactiveAttributes,\n\tvalue,\n\tonChange,\n\tonFocus,\n\tcontentRef,\n} ) {\n\tconst [ addingLink, setAddingLink ] = useState( false );\n\n\tfunction addLink() {\n\t\tconst text = getTextContent( slice( value ) );\n\n\t\tif ( text && isURL( text ) && isValidHref( text ) ) {\n\t\t\tonChange(\n\t\t\t\tapplyFormat( value, {\n\t\t\t\t\ttype: name,\n\t\t\t\t\tattributes: { url: text },\n\t\t\t\t} )\n\t\t\t);\n\t\t} else if ( text && isEmail( text ) ) {\n\t\t\tonChange(\n\t\t\t\tapplyFormat( value, {\n\t\t\t\t\ttype: name,\n\t\t\t\t\tattributes: { url: `mailto:${ text }` },\n\t\t\t\t} )\n\t\t\t);\n\t\t} else {\n\t\t\tsetAddingLink( true );\n\t\t}\n\t}\n\n\tfunction stopAddingLink( returnFocus = true ) {\n\t\tsetAddingLink( false );\n\t\tif ( returnFocus ) {\n\t\t\tonFocus();\n\t\t}\n\t}\n\n\tfunction onRemoveFormat() {\n\t\tonChange( removeFormat( value, name ) );\n\t\tspeak( __( 'Link removed.' ), 'assertive' );\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<RichTextShortcut type=\"primary\" character=\"k\" onUse={ addLink } />\n\t\t\t<RichTextShortcut\n\t\t\t\ttype=\"primaryShift\"\n\t\t\t\tcharacter=\"k\"\n\t\t\t\tonUse={ onRemoveFormat }\n\t\t\t/>\n\t\t\t{ isActive && (\n\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\tname=\"link\"\n\t\t\t\t\ticon={ linkOff }\n\t\t\t\t\ttitle={ __( 'Unlink' ) }\n\t\t\t\t\tonClick={ onRemoveFormat }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\tshortcutType=\"primaryShift\"\n\t\t\t\t\tshortcutCharacter=\"k\"\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! isActive && (\n\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\tname=\"link\"\n\t\t\t\t\ticon={ linkIcon }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t\tonClick={ addLink }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\tshortcutType=\"primary\"\n\t\t\t\t\tshortcutCharacter=\"k\"\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ( addingLink || isActive ) && (\n\t\t\t\t<InlineLinkUI\n\t\t\t\t\taddingLink={ addingLink }\n\t\t\t\t\tstopAddingLink={ stopAddingLink }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\tactiveAttributes={ activeAttributes }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tcontentRef={ contentRef }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport const link = {\n\tname,\n\ttitle,\n\ttagName: 'a',\n\tclassName: null,\n\tattributes: {\n\t\turl: 'href',\n\t\ttype: 'data-type',\n\t\tid: 'data-id',\n\t\ttarget: 'target',\n\t},\n\t__unstablePasteRule( value, { html, plainText } ) {\n\t\tif ( isCollapsed( value ) ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tconst pastedText = ( html || plainText )\n\t\t\t.replace( /<[^>]+>/g, '' )\n\t\t\t.trim();\n\n\t\t// A URL was pasted, turn the selection into a link.\n\t\tif ( ! isURL( pastedText ) ) {\n\t\t\treturn value;\n\t\t}\n\n\t\t// Allows us to ask for this information when we get a report.\n\t\twindow.console.log( 'Created link:\\n\\n', pastedText );\n\n\t\treturn applyFormat( value, {\n\t\t\ttype: name,\n\t\t\tattributes: {\n\t\t\t\turl: decodeEntities( pastedText ),\n\t\t\t},\n\t\t} );\n\t},\n\tedit: Edit,\n};\n","/**\n * WordPress dependencies\n */\nimport { useState, useRef, createInterpolateElement } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { withSpokenMessages, Popover } from '@wordpress/components';\nimport { prependHTTP } from '@wordpress/url';\nimport {\n\tcreate,\n\tinsert,\n\tisCollapsed,\n\tapplyFormat,\n\tuseAnchor,\n\tremoveFormat,\n\tslice,\n\treplace,\n\tsplit,\n\tconcat,\n} from '@wordpress/rich-text';\nimport {\n\t__experimentalLinkControl as LinkControl,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { createLinkFormat, isValidHref, getFormatBoundary } from './utils';\nimport { link as settings } from './index';\nimport useLinkInstanceKey from './use-link-instance-key';\n\nfunction InlineLinkUI( {\n\tisActive,\n\tactiveAttributes,\n\taddingLink,\n\tvalue,\n\tonChange,\n\tspeak,\n\tstopAddingLink,\n\tcontentRef,\n} ) {\n\tconst richLinkTextValue = getRichTextValueFromSelection( value, isActive );\n\n\t// Get the text content minus any HTML tags.\n\tconst richTextText = richLinkTextValue.text;\n\n\t/**\n\t * Pending settings to be applied to the next link. When inserting a new\n\t * link, toggle values cannot be applied immediately, because there is not\n\t * yet a link for them to apply to. Thus, they are maintained in a state\n\t * value until the time that the link can be inserted or edited.\n\t *\n\t * @type {[Object|undefined,Function]}\n\t */\n\tconst [ nextLinkValue, setNextLinkValue ] = useState();\n\n\tconst { createPageEntity, userCanCreatePages } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst _settings = getSettings();\n\n\t\treturn {\n\t\t\tcreatePageEntity: _settings.__experimentalCreatePageEntity,\n\t\t\tuserCanCreatePages: _settings.__experimentalUserCanCreatePages,\n\t\t};\n\t}, [] );\n\n\tconst linkValue = {\n\t\turl: activeAttributes.url,\n\t\ttype: activeAttributes.type,\n\t\tid: activeAttributes.id,\n\t\topensInNewTab: activeAttributes.target === '_blank',\n\t\ttitle: richTextText,\n\t\t...nextLinkValue,\n\t};\n\n\tfunction removeLink() {\n\t\tconst newValue = removeFormat( value, 'core/link' );\n\t\tonChange( newValue );\n\t\tstopAddingLink();\n\t\tspeak( __( 'Link removed.' ), 'assertive' );\n\t}\n\n\tfunction onChangeLink( nextValue ) {\n\t\t// Merge with values from state, both for the purpose of assigning the\n\t\t// next state value, and for use in constructing the new link format if\n\t\t// the link is ready to be applied.\n\t\tnextValue = {\n\t\t\t...nextLinkValue,\n\t\t\t...nextValue,\n\t\t};\n\n\t\t// LinkControl calls `onChange` immediately upon the toggling a setting.\n\t\tconst didToggleSetting =\n\t\t\tlinkValue.opensInNewTab !== nextValue.opensInNewTab &&\n\t\t\tlinkValue.url === nextValue.url;\n\n\t\t// If change handler was called as a result of a settings change during\n\t\t// link insertion, it must be held in state until the link is ready to\n\t\t// be applied.\n\t\tconst didToggleSettingForNewLink =\n\t\t\tdidToggleSetting && nextValue.url === undefined;\n\n\t\t// If link will be assigned, the state value can be considered flushed.\n\t\t// Otherwise, persist the pending changes.\n\t\tsetNextLinkValue( didToggleSettingForNewLink ? nextValue : undefined );\n\n\t\tif ( didToggleSettingForNewLink ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newUrl = prependHTTP( nextValue.url );\n\t\tconst linkFormat = createLinkFormat( {\n\t\t\turl: newUrl,\n\t\t\ttype: nextValue.type,\n\t\t\tid:\n\t\t\t\tnextValue.id !== undefined && nextValue.id !== null\n\t\t\t\t\t? String( nextValue.id )\n\t\t\t\t\t: undefined,\n\t\t\topensInNewWindow: nextValue.opensInNewTab,\n\t\t} );\n\n\t\tconst newText = nextValue.title || newUrl;\n\n\t\tif ( isCollapsed( value ) && ! isActive ) {\n\t\t\t// Scenario: we don't have any actively selected text or formats.\n\t\t\tconst toInsert = applyFormat(\n\t\t\t\tcreate( { text: newText } ),\n\t\t\t\tlinkFormat,\n\t\t\t\t0,\n\t\t\t\tnewText.length\n\t\t\t);\n\t\t\tonChange( insert( value, toInsert ) );\n\t\t} else {\n\t\t\t// Scenario: we have any active text selection or an active format.\n\t\t\tlet newValue;\n\n\t\t\tif ( newText === richTextText ) {\n\t\t\t\t// If we're not updating the text then ignore.\n\t\t\t\tnewValue = applyFormat( value, linkFormat );\n\t\t\t} else {\n\t\t\t\t// Create new RichText value for the new text in order that we\n\t\t\t\t// can apply formats to it.\n\t\t\t\tnewValue = create( { text: newText } );\n\n\t\t\t\t// Apply the new Link format to this new text value.\n\t\t\t\tnewValue = applyFormat(\n\t\t\t\t\tnewValue,\n\t\t\t\t\tlinkFormat,\n\t\t\t\t\t0,\n\t\t\t\t\tnewText.length\n\t\t\t\t);\n\n\t\t\t\t// Get the boundaries of the active link format.\n\t\t\t\tconst boundary = getFormatBoundary( value, {\n\t\t\t\t\ttype: 'core/link',\n\t\t\t\t} );\n\n\t\t\t\t// Split the value at the start of the active link format.\n\t\t\t\t// Passing \"start\" as the 3rd parameter is required to ensure\n\t\t\t\t// the second half of the split value is split at the format's\n\t\t\t\t// start boundary and avoids relying on the value's \"end\" property\n\t\t\t\t// which may not correspond correctly.\n\t\t\t\tconst [ valBefore, valAfter ] = split(\n\t\t\t\t\tvalue,\n\t\t\t\t\tboundary.start,\n\t\t\t\t\tboundary.start\n\t\t\t\t);\n\n\t\t\t\t// Update the original (full) RichTextValue replacing the\n\t\t\t\t// target text with the *new* RichTextValue containing:\n\t\t\t\t// 1. The new text content.\n\t\t\t\t// 2. The new link format.\n\t\t\t\t// As \"replace\" will operate on the first match only, it is\n\t\t\t\t// run only against the second half of the value which was\n\t\t\t\t// split at the active format's boundary. This avoids a bug\n\t\t\t\t// with incorrectly targetted replacements.\n\t\t\t\t// See: https://github.com/WordPress/gutenberg/issues/41771.\n\t\t\t\t// Note original formats will be lost when applying this change.\n\t\t\t\t// That is expected behaviour.\n\t\t\t\t// See: https://github.com/WordPress/gutenberg/pull/33849#issuecomment-936134179.\n\t\t\t\tconst newValAfter = replace( valAfter, richTextText, newValue );\n\n\t\t\t\tnewValue = concat( valBefore, newValAfter );\n\t\t\t}\n\n\t\t\tnewValue.start = newValue.end;\n\t\t\tnewValue.activeFormats = [];\n\t\t\tonChange( newValue );\n\t\t}\n\n\t\t// Focus should only be shifted back to the formatted segment when the\n\t\t// URL is submitted.\n\t\tif ( ! didToggleSetting ) {\n\t\t\tstopAddingLink();\n\t\t}\n\n\t\tif ( ! isValidHref( newUrl ) ) {\n\t\t\tspeak(\n\t\t\t\t__(\n\t\t\t\t\t'Warning: the link has been inserted but may have errors. Please test it.'\n\t\t\t\t),\n\t\t\t\t'assertive'\n\t\t\t);\n\t\t} else if ( isActive ) {\n\t\t\tspeak( __( 'Link edited.' ), 'assertive' );\n\t\t} else {\n\t\t\tspeak( __( 'Link inserted.' ), 'assertive' );\n\t\t}\n\t}\n\n\tconst popoverAnchor = useAnchor( {\n\t\teditableContentElement: contentRef.current,\n\t\tsettings,\n\t} );\n\n\t// Generate a string based key that is unique to this anchor reference.\n\t// This is used to force re-mount the LinkControl component to avoid\n\t// potential stale state bugs caused by the component not being remounted\n\t// See https://github.com/WordPress/gutenberg/pull/34742.\n\tconst forceRemountKey = useLinkInstanceKey( popoverAnchor );\n\n\t// The focusOnMount prop shouldn't evolve during render of a Popover\n\t// otherwise it causes a render of the content.\n\tconst focusOnMount = useRef( addingLink ? 'firstElement' : false );\n\n\tasync function handleCreate( pageTitle ) {\n\t\tconst page = await createPageEntity( {\n\t\t\ttitle: pageTitle,\n\t\t\tstatus: 'draft',\n\t\t} );\n\n\t\treturn {\n\t\t\tid: page.id,\n\t\t\ttype: page.type,\n\t\t\ttitle: page.title.rendered,\n\t\t\turl: page.link,\n\t\t\tkind: 'post-type',\n\t\t};\n\t}\n\n\tfunction createButtonText( searchTerm ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: search term. */\n\t\t\t\t__( 'Create page: <mark>%s</mark>' ),\n\t\t\t\tsearchTerm\n\t\t\t),\n\t\t\t{ mark: <mark /> }\n\t\t);\n\t}\n\n\treturn (\n\t\t<Popover\n\t\t\tanchor={ popoverAnchor }\n\t\t\tfocusOnMount={ focusOnMount.current }\n\t\t\tonClose={ stopAddingLink }\n\t\t\tonFocusOutside={ () => stopAddingLink( false ) }\n\t\t\tplacement=\"bottom\"\n\t\t\tshift\n\t\t>\n\t\t\t<LinkControl\n\t\t\t\tkey={ forceRemountKey }\n\t\t\t\tvalue={ linkValue }\n\t\t\t\tonChange={ onChangeLink }\n\t\t\t\tonRemove={ removeLink }\n\t\t\t\tforceIsEditingLink={ addingLink }\n\t\t\t\thasRichPreviews\n\t\t\t\tcreateSuggestion={ createPageEntity && handleCreate }\n\t\t\t\twithCreateSuggestion={ userCanCreatePages }\n\t\t\t\tcreateSuggestionButtonText={ createButtonText }\n\t\t\t\thasTextControl\n\t\t\t/>\n\t\t</Popover>\n\t);\n}\n\nfunction getRichTextValueFromSelection( value, isActive ) {\n\t// Default to the selection ranges on the RichTextValue object.\n\tlet textStart = value.start;\n\tlet textEnd = value.end;\n\n\t// If the format is currently active then the rich text value\n\t// should always be taken from the bounds of the active format\n\t// and not the selected text.\n\tif ( isActive ) {\n\t\tconst boundary = getFormatBoundary( value, {\n\t\t\ttype: 'core/link',\n\t\t} );\n\n\t\ttextStart = boundary.start;\n\n\t\t// Text *selection* always extends +1 beyond the edge of the format.\n\t\t// We account for that here.\n\t\ttextEnd = boundary.end + 1;\n\t}\n\n\t// Get a RichTextValue containing the selected text content.\n\treturn slice( value, textStart, textEnd );\n}\n\nexport default withSpokenMessages( InlineLinkUI );\n","// Weakly referenced map allows unused ids to be garbage collected.\nconst weakMap = new WeakMap();\n\n// Incrementing zero-based ID value.\nlet id = -1;\n\nconst prefix = 'link-control-instance';\n\nfunction getKey( _id ) {\n\treturn `${ prefix }-${ _id }`;\n}\n\n/**\n * Builds a unique link control key for the given object reference.\n *\n * @param {Object} instance an unique object reference specific to this link control instance.\n * @return {string | undefined} the unique key to use for this link control.\n */\nfunction useLinkInstanceKey( instance ) {\n\tif ( ! instance ) {\n\t\treturn;\n\t}\n\tif ( weakMap.has( instance ) ) {\n\t\treturn getKey( weakMap.get( instance ) );\n\t}\n\n\tid += 1;\n\n\tweakMap.set( instance, id );\n\n\treturn getKey( id );\n}\n\nexport default useLinkInstanceKey;\n","/**\n * WordPress dependencies\n */\nimport {\n\tgetProtocol,\n\tisValidProtocol,\n\tgetAuthority,\n\tisValidAuthority,\n\tgetPath,\n\tisValidPath,\n\tgetQueryString,\n\tisValidQueryString,\n\tgetFragment,\n\tisValidFragment,\n} from '@wordpress/url';\n\n/**\n * Check for issues with the provided href.\n *\n * @param {string} href The href.\n *\n * @return {boolean} Is the href invalid?\n */\nexport function isValidHref( href ) {\n\tif ( ! href ) {\n\t\treturn false;\n\t}\n\n\tconst trimmedHref = href.trim();\n\n\tif ( ! trimmedHref ) {\n\t\treturn false;\n\t}\n\n\t// Does the href start with something that looks like a URL protocol?\n\tif ( /^\\S+:/.test( trimmedHref ) ) {\n\t\tconst protocol = getProtocol( trimmedHref );\n\t\tif ( ! isValidProtocol( protocol ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Add some extra checks for http(s) URIs, since these are the most common use-case.\n\t\t// This ensures URIs with an http protocol have exactly two forward slashes following the protocol.\n\t\tif (\n\t\t\tprotocol.startsWith( 'http' ) &&\n\t\t\t! /^https?:\\/\\/[^\\/\\s]/i.test( trimmedHref )\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst authority = getAuthority( trimmedHref );\n\t\tif ( ! isValidAuthority( authority ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst path = getPath( trimmedHref );\n\t\tif ( path && ! isValidPath( path ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst queryString = getQueryString( trimmedHref );\n\t\tif ( queryString && ! isValidQueryString( queryString ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst fragment = getFragment( trimmedHref );\n\t\tif ( fragment && ! isValidFragment( fragment ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Validate anchor links.\n\tif ( trimmedHref.startsWith( '#' ) && ! isValidFragment( trimmedHref ) ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Generates the format object that will be applied to the link text.\n *\n * @param {Object}  options\n * @param {string}  options.url              The href of the link.\n * @param {string}  options.type             The type of the link.\n * @param {string}  options.id               The ID of the link.\n * @param {boolean} options.opensInNewWindow Whether this link will open in a new window.\n *\n * @return {Object} The final format object.\n */\nexport function createLinkFormat( { url, type, id, opensInNewWindow } ) {\n\tconst format = {\n\t\ttype: 'core/link',\n\t\tattributes: {\n\t\t\turl,\n\t\t},\n\t};\n\n\tif ( type ) format.attributes.type = type;\n\tif ( id ) format.attributes.id = id;\n\n\tif ( opensInNewWindow ) {\n\t\tformat.attributes.target = '_blank';\n\t\tformat.attributes.rel = 'noreferrer noopener';\n\t}\n\n\treturn format;\n}\n\n/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Get the start and end boundaries of a given format from a rich text value.\n *\n *\n * @param {RichTextValue} value      the rich text value to interrogate.\n * @param {string}        format     the identifier for the target format (e.g. `core/link`, `core/bold`).\n * @param {number?}       startIndex optional startIndex to seek from.\n * @param {number?}       endIndex   optional endIndex to seek from.\n * @return {Object}\tobject containing start and end values for the given format.\n */\n/* eslint-enable jsdoc/no-undefined-types */\nexport function getFormatBoundary(\n\tvalue,\n\tformat,\n\tstartIndex = value.start,\n\tendIndex = value.end\n) {\n\tconst EMPTY_BOUNDARIES = {\n\t\tstart: null,\n\t\tend: null,\n\t};\n\n\tconst { formats } = value;\n\tlet targetFormat;\n\tlet initialIndex;\n\n\tif ( ! formats?.length ) {\n\t\treturn EMPTY_BOUNDARIES;\n\t}\n\n\t// Clone formats to avoid modifying source formats.\n\tconst newFormats = formats.slice();\n\n\tconst formatAtStart = newFormats[ startIndex ]?.find(\n\t\t( { type } ) => type === format.type\n\t);\n\n\tconst formatAtEnd = newFormats[ endIndex ]?.find(\n\t\t( { type } ) => type === format.type\n\t);\n\n\tconst formatAtEndMinusOne = newFormats[ endIndex - 1 ]?.find(\n\t\t( { type } ) => type === format.type\n\t);\n\n\tif ( !! formatAtStart ) {\n\t\t// Set values to conform to \"start\"\n\t\ttargetFormat = formatAtStart;\n\t\tinitialIndex = startIndex;\n\t} else if ( !! formatAtEnd ) {\n\t\t// Set values to conform to \"end\"\n\t\ttargetFormat = formatAtEnd;\n\t\tinitialIndex = endIndex;\n\t} else if ( !! formatAtEndMinusOne ) {\n\t\t// This is an edge case which will occur if you create a format, then place\n\t\t// the caret just before the format and hit the back ARROW key. The resulting\n\t\t// value object will have start and end +1 beyond the edge of the format boundary.\n\t\ttargetFormat = formatAtEndMinusOne;\n\t\tinitialIndex = endIndex - 1;\n\t} else {\n\t\treturn EMPTY_BOUNDARIES;\n\t}\n\n\tconst index = newFormats[ initialIndex ].indexOf( targetFormat );\n\n\tconst walkingArgs = [ newFormats, initialIndex, targetFormat, index ];\n\n\t// Walk the startIndex \"backwards\" to the leading \"edge\" of the matching format.\n\tstartIndex = walkToStart( ...walkingArgs );\n\n\t// Walk the endIndex \"forwards\" until the trailing \"edge\" of the matching format.\n\tendIndex = walkToEnd( ...walkingArgs );\n\n\t// Safe guard: start index cannot be less than 0.\n\tstartIndex = startIndex < 0 ? 0 : startIndex;\n\n\t// // Return the indicies of the \"edges\" as the boundaries.\n\treturn {\n\t\tstart: startIndex,\n\t\tend: endIndex,\n\t};\n}\n\n/**\n * Walks forwards/backwards towards the boundary of a given format within an\n * array of format objects. Returns the index of the boundary.\n *\n * @param {Array}  formats         the formats to search for the given format type.\n * @param {number} initialIndex    the starting index from which to walk.\n * @param {Object} targetFormatRef a reference to the format type object being sought.\n * @param {number} formatIndex     the index at which we expect the target format object to be.\n * @param {string} direction       either 'forwards' or 'backwards' to indicate the direction.\n * @return {number} the index of the boundary of the given format.\n */\nfunction walkToBoundary(\n\tformats,\n\tinitialIndex,\n\ttargetFormatRef,\n\tformatIndex,\n\tdirection\n) {\n\tlet index = initialIndex;\n\n\tconst directions = {\n\t\tforwards: 1,\n\t\tbackwards: -1,\n\t};\n\n\tconst directionIncrement = directions[ direction ] || 1; // invalid direction arg default to forwards\n\tconst inverseDirectionIncrement = directionIncrement * -1;\n\n\twhile (\n\t\tformats[ index ] &&\n\t\tformats[ index ][ formatIndex ] === targetFormatRef\n\t) {\n\t\t// Increment/decrement in the direction of operation.\n\t\tindex = index + directionIncrement;\n\t}\n\n\t// Restore by one in inverse direction of operation\n\t// to avoid out of bounds.\n\tindex = index + inverseDirectionIncrement;\n\n\treturn index;\n}\n\nconst partialRight =\n\t( fn, ...partialArgs ) =>\n\t( ...args ) =>\n\t\tfn( ...args, ...partialArgs );\n\nconst walkToStart = partialRight( walkToBoundary, 'backwards' );\n\nconst walkToEnd = partialRight( walkToBoundary, 'forwards' );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { toggleFormat } from '@wordpress/rich-text';\nimport {\n\tRichTextToolbarButton,\n\tRichTextShortcut,\n} from '@wordpress/block-editor';\nimport { formatStrikethrough } from '@wordpress/icons';\n\nconst name = 'core/strikethrough';\nconst title = __( 'Strikethrough' );\n\nexport const strikethrough = {\n\tname,\n\ttitle,\n\ttagName: 's',\n\tclassName: null,\n\tedit( { isActive, value, onChange, onFocus } ) {\n\t\tfunction onClick() {\n\t\t\tonChange( toggleFormat( value, { type: name, title } ) );\n\t\t\tonFocus();\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<RichTextShortcut\n\t\t\t\t\ttype=\"access\"\n\t\t\t\t\tcharacter=\"d\"\n\t\t\t\t\tonUse={ onClick }\n\t\t\t\t/>\n\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\ticon={ formatStrikethrough }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t\tonClick={ onClick }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { toggleFormat } from '@wordpress/rich-text';\nimport { RichTextToolbarButton } from '@wordpress/block-editor';\nimport { subscript as subscriptIcon } from '@wordpress/icons';\n\nconst name = 'core/subscript';\nconst title = __( 'Subscript' );\n\nexport const subscript = {\n\tname,\n\ttitle,\n\ttagName: 'sub',\n\tclassName: null,\n\tedit( { isActive, value, onChange, onFocus } ) {\n\t\tfunction onToggle() {\n\t\t\tonChange( toggleFormat( value, { type: name, title } ) );\n\t\t}\n\n\t\tfunction onClick() {\n\t\t\tonToggle();\n\t\t\tonFocus();\n\t\t}\n\n\t\treturn (\n\t\t\t<RichTextToolbarButton\n\t\t\t\ticon={ subscriptIcon }\n\t\t\t\ttitle={ title }\n\t\t\t\tonClick={ onClick }\n\t\t\t\tisActive={ isActive }\n\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t/>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { toggleFormat } from '@wordpress/rich-text';\nimport { RichTextToolbarButton } from '@wordpress/block-editor';\nimport { superscript as superscriptIcon } from '@wordpress/icons';\n\nconst name = 'core/superscript';\nconst title = __( 'Superscript' );\n\nexport const superscript = {\n\tname,\n\ttitle,\n\ttagName: 'sup',\n\tclassName: null,\n\tedit( { isActive, value, onChange, onFocus } ) {\n\t\tfunction onToggle() {\n\t\t\tonChange( toggleFormat( value, { type: name, title } ) );\n\t\t}\n\n\t\tfunction onClick() {\n\t\t\tonToggle();\n\t\t\tonFocus();\n\t\t}\n\n\t\treturn (\n\t\t\t<RichTextToolbarButton\n\t\t\t\ticon={ superscriptIcon }\n\t\t\t\ttitle={ title }\n\t\t\t\tonClick={ onClick }\n\t\t\t\tisActive={ isActive }\n\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t/>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useCallback, useMemo, useState } from '@wordpress/element';\nimport { RichTextToolbarButton, useSetting } from '@wordpress/block-editor';\nimport {\n\tIcon,\n\tcolor as colorIcon,\n\ttextColor as textColorIcon,\n} from '@wordpress/icons';\nimport { removeFormat } from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport { default as InlineColorUI, getActiveColors } from './inline';\n\nexport const transparentValue = 'rgba(0, 0, 0, 0)';\n\nconst name = 'core/text-color';\nconst title = __( 'Highlight' );\n\nconst EMPTY_ARRAY = [];\n\nfunction getComputedStyleProperty( element, property ) {\n\tconst { ownerDocument } = element;\n\tconst { defaultView } = ownerDocument;\n\tconst style = defaultView.getComputedStyle( element );\n\tconst value = style.getPropertyValue( property );\n\n\tif (\n\t\tproperty === 'background-color' &&\n\t\tvalue === transparentValue &&\n\t\telement.parentElement\n\t) {\n\t\treturn getComputedStyleProperty( element.parentElement, property );\n\t}\n\n\treturn value;\n}\n\nfunction fillComputedColors( element, { color, backgroundColor } ) {\n\tif ( ! color && ! backgroundColor ) {\n\t\treturn;\n\t}\n\n\treturn {\n\t\tcolor: color || getComputedStyleProperty( element, 'color' ),\n\t\tbackgroundColor:\n\t\t\tbackgroundColor === transparentValue\n\t\t\t\t? getComputedStyleProperty( element, 'background-color' )\n\t\t\t\t: backgroundColor,\n\t};\n}\n\nfunction TextColorEdit( {\n\tvalue,\n\tonChange,\n\tisActive,\n\tactiveAttributes,\n\tcontentRef,\n} ) {\n\tconst allowCustomControl = useSetting( 'color.custom' );\n\tconst colors = useSetting( 'color.palette' ) || EMPTY_ARRAY;\n\tconst [ isAddingColor, setIsAddingColor ] = useState( false );\n\tconst enableIsAddingColor = useCallback(\n\t\t() => setIsAddingColor( true ),\n\t\t[ setIsAddingColor ]\n\t);\n\tconst disableIsAddingColor = useCallback(\n\t\t() => setIsAddingColor( false ),\n\t\t[ setIsAddingColor ]\n\t);\n\tconst colorIndicatorStyle = useMemo(\n\t\t() =>\n\t\t\tfillComputedColors(\n\t\t\t\tcontentRef.current,\n\t\t\t\tgetActiveColors( value, name, colors )\n\t\t\t),\n\t\t[ value, colors ]\n\t);\n\n\tconst hasColorsToChoose = colors.length || ! allowCustomControl;\n\tif ( ! hasColorsToChoose && ! isActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<RichTextToolbarButton\n\t\t\t\tclassName=\"format-library-text-color-button\"\n\t\t\t\tisActive={ isActive }\n\t\t\t\ticon={\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\tObject.keys( activeAttributes ).length\n\t\t\t\t\t\t\t\t? textColorIcon\n\t\t\t\t\t\t\t\t: colorIcon\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle={ colorIndicatorStyle }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\ttitle={ title }\n\t\t\t\t// If has no colors to choose but a color is active remove the color onClick.\n\t\t\t\tonClick={\n\t\t\t\t\thasColorsToChoose\n\t\t\t\t\t\t? enableIsAddingColor\n\t\t\t\t\t\t: () => onChange( removeFormat( value, name ) )\n\t\t\t\t}\n\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t/>\n\t\t\t{ isAddingColor && (\n\t\t\t\t<InlineColorUI\n\t\t\t\t\tname={ name }\n\t\t\t\t\tonClose={ disableIsAddingColor }\n\t\t\t\t\tactiveAttributes={ activeAttributes }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tcontentRef={ contentRef }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport const textColor = {\n\tname,\n\ttitle,\n\ttagName: 'mark',\n\tclassName: 'has-inline-color',\n\tattributes: {\n\t\tstyle: 'style',\n\t\tclass: 'class',\n\t},\n\t/*\n\t * Since this format relies on the <mark> tag, it's important to\n\t * prevent the default yellow background color applied by most\n\t * browsers. The solution is to detect when this format is used with a\n\t * text color but no background color, and in such cases to override\n\t * the default styling with a transparent background.\n\t *\n\t * @see https://github.com/WordPress/gutenberg/pull/35516\n\t */\n\t__unstableFilterAttributeValue( key, value ) {\n\t\tif ( key !== 'style' ) return value;\n\t\t// We should not add a background-color if it's already set.\n\t\tif ( value && value.includes( 'background-color' ) ) return value;\n\t\tconst addedCSS = [ 'background-color', transparentValue ].join( ':' );\n\t\t// Prepend `addedCSS` to avoid a double `;;` as any the existing CSS\n\t\t// rules will already include a `;`.\n\t\treturn value ? [ addedCSS, value ].join( ';' ) : addedCSS;\n\t},\n\tedit: TextColorEdit,\n};\n","/**\n * WordPress dependencies\n */\nimport { useCallback, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tapplyFormat,\n\tremoveFormat,\n\tgetActiveFormat,\n\tuseAnchor,\n} from '@wordpress/rich-text';\nimport {\n\tColorPalette,\n\tgetColorClassName,\n\tgetColorObjectByColorValue,\n\tgetColorObjectByAttributeValues,\n\tstore as blockEditorStore,\n\tuseCachedTruthy,\n} from '@wordpress/block-editor';\nimport { Popover, TabPanel } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { textColor as settings, transparentValue } from './index';\n\nfunction parseCSS( css = '' ) {\n\treturn css.split( ';' ).reduce( ( accumulator, rule ) => {\n\t\tif ( rule ) {\n\t\t\tconst [ property, value ] = rule.split( ':' );\n\t\t\tif ( property === 'color' ) accumulator.color = value;\n\t\t\tif ( property === 'background-color' && value !== transparentValue )\n\t\t\t\taccumulator.backgroundColor = value;\n\t\t}\n\t\treturn accumulator;\n\t}, {} );\n}\n\nexport function parseClassName( className = '', colorSettings ) {\n\treturn className.split( ' ' ).reduce( ( accumulator, name ) => {\n\t\t// `colorSlug` could contain dashes, so simply match the start and end.\n\t\tif ( name.startsWith( 'has-' ) && name.endsWith( '-color' ) ) {\n\t\t\tconst colorSlug = name\n\t\t\t\t.replace( /^has-/, '' )\n\t\t\t\t.replace( /-color$/, '' );\n\t\t\tconst colorObject = getColorObjectByAttributeValues(\n\t\t\t\tcolorSettings,\n\t\t\t\tcolorSlug\n\t\t\t);\n\t\t\taccumulator.color = colorObject.color;\n\t\t}\n\t\treturn accumulator;\n\t}, {} );\n}\n\nexport function getActiveColors( value, name, colorSettings ) {\n\tconst activeColorFormat = getActiveFormat( value, name );\n\n\tif ( ! activeColorFormat ) {\n\t\treturn {};\n\t}\n\n\treturn {\n\t\t...parseCSS( activeColorFormat.attributes.style ),\n\t\t...parseClassName( activeColorFormat.attributes.class, colorSettings ),\n\t};\n}\n\nfunction setColors( value, name, colorSettings, colors ) {\n\tconst { color, backgroundColor } = {\n\t\t...getActiveColors( value, name, colorSettings ),\n\t\t...colors,\n\t};\n\n\tif ( ! color && ! backgroundColor ) {\n\t\treturn removeFormat( value, name );\n\t}\n\n\tconst styles = [];\n\tconst classNames = [];\n\tconst attributes = {};\n\n\tif ( backgroundColor ) {\n\t\tstyles.push( [ 'background-color', backgroundColor ].join( ':' ) );\n\t} else {\n\t\t// Override default browser color for mark element.\n\t\tstyles.push( [ 'background-color', transparentValue ].join( ':' ) );\n\t}\n\n\tif ( color ) {\n\t\tconst colorObject = getColorObjectByColorValue( colorSettings, color );\n\n\t\tif ( colorObject ) {\n\t\t\tclassNames.push( getColorClassName( 'color', colorObject.slug ) );\n\t\t} else {\n\t\t\tstyles.push( [ 'color', color ].join( ':' ) );\n\t\t}\n\t}\n\n\tif ( styles.length ) attributes.style = styles.join( ';' );\n\tif ( classNames.length ) attributes.class = classNames.join( ' ' );\n\n\treturn applyFormat( value, { type: name, attributes } );\n}\n\nfunction ColorPicker( { name, property, value, onChange } ) {\n\tconst colors = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\treturn getSettings().colors ?? [];\n\t}, [] );\n\tconst onColorChange = useCallback(\n\t\t( color ) => {\n\t\t\tonChange(\n\t\t\t\tsetColors( value, name, colors, { [ property ]: color } )\n\t\t\t);\n\t\t},\n\t\t[ colors, onChange, property ]\n\t);\n\tconst activeColors = useMemo(\n\t\t() => getActiveColors( value, name, colors ),\n\t\t[ name, value, colors ]\n\t);\n\n\treturn (\n\t\t<ColorPalette\n\t\t\tvalue={ activeColors[ property ] }\n\t\t\tonChange={ onColorChange }\n\t\t/>\n\t);\n}\n\nexport default function InlineColorUI( {\n\tname,\n\tvalue,\n\tonChange,\n\tonClose,\n\tcontentRef,\n} ) {\n\t/*\n\t As you change the text color by typing a HEX value into a field,\n\t the return value of document.getSelection jumps to the field you're editing,\n\t not the highlighted text. Given that useAnchor uses document.getSelection,\n\t it will return null, since it can't find the <mark> element within the HEX input.\n\t This caches the last truthy value of the selection anchor reference.\n\t */\n\tconst popoverAnchor = useCachedTruthy(\n\t\tuseAnchor( {\n\t\t\teditableContentElement: contentRef.current,\n\t\t\tsettings,\n\t\t} )\n\t);\n\n\treturn (\n\t\t<Popover\n\t\t\tonClose={ onClose }\n\t\t\tclassName=\"components-inline-color-popover\"\n\t\t\tanchor={ popoverAnchor }\n\t\t>\n\t\t\t<TabPanel\n\t\t\t\ttabs={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'color',\n\t\t\t\t\t\ttitle: __( 'Text' ),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'backgroundColor',\n\t\t\t\t\t\ttitle: __( 'Background' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ ( tab ) => (\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\tproperty={ tab.name }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</TabPanel>\n\t\t</Popover>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { toggleFormat } from '@wordpress/rich-text';\nimport {\n\tRichTextShortcut,\n\t__unstableRichTextInputEvent,\n} from '@wordpress/block-editor';\n\nconst name = 'core/underline';\nconst title = __( 'Underline' );\n\nexport const underline = {\n\tname,\n\ttitle,\n\ttagName: 'span',\n\tclassName: null,\n\tattributes: {\n\t\tstyle: 'style',\n\t},\n\tedit( { value, onChange } ) {\n\t\tconst onToggle = () => {\n\t\t\tonChange(\n\t\t\t\ttoggleFormat( value, {\n\t\t\t\t\ttype: name,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tstyle: 'text-decoration: underline;',\n\t\t\t\t\t},\n\t\t\t\t\ttitle,\n\t\t\t\t} )\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<RichTextShortcut\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tcharacter=\"u\"\n\t\t\t\t\tonUse={ onToggle }\n\t\t\t\t/>\n\t\t\t\t<__unstableRichTextInputEvent\n\t\t\t\t\tinputType=\"formatUnderline\"\n\t\t\t\t\tonInput={ onToggle }\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { removeFormat, slice } from '@wordpress/rich-text';\nimport { RichTextToolbarButton } from '@wordpress/block-editor';\nimport { help } from '@wordpress/icons';\n\nconst name = 'core/unknown';\nconst title = __( 'Clear Unknown Formatting' );\n\nexport const unknown = {\n\tname,\n\ttitle,\n\ttagName: '*',\n\tclassName: null,\n\tedit( { isActive, value, onChange, onFocus } ) {\n\t\tfunction onClick() {\n\t\t\tonChange( removeFormat( value, name ) );\n\t\t\tonFocus();\n\t\t}\n\n\t\tconst selectedValue = slice( value );\n\t\tconst hasUnknownFormats = selectedValue.formats.some( ( formats ) => {\n\t\t\treturn formats.some( ( format ) => format.type === name );\n\t\t} );\n\n\t\tif ( ! isActive && ! hasUnknownFormats ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<RichTextToolbarButton\n\t\t\t\tname=\"unknown\"\n\t\t\t\ticon={ help }\n\t\t\t\ttitle={ title }\n\t\t\t\tonClick={ onClick }\n\t\t\t\tisActive={ true }\n\t\t\t/>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps} props icon is the SVG component to render\n *                          size is a number specifiying the icon size in pixels\n *                          Other props will be passed to wrapped SVG component\n *\n * @return {JSX.Element}  Icon component\n */\nfunction Icon( { icon, size = 24, ...props } ) {\n\treturn cloneElement( icon, {\n\t\twidth: size,\n\t\theight: size,\n\t\t...props,\n\t} );\n}\n\nexport default Icon;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst button = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z\" />\n\t</SVG>\n);\n\nexport default button;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst code = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z\" />\n\t</SVG>\n);\n\nexport default code;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst color = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z\" />\n\t</SVG>\n);\n\nexport default color;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst formatBold = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M14.7 11.3c1-.6 1.5-1.6 1.5-3 0-2.3-1.3-3.4-4-3.4H7v14h5.8c1.4 0 2.5-.3 3.3-1 .8-.7 1.2-1.7 1.2-2.9.1-1.9-.8-3.1-2.6-3.7zm-5.1-4h2.3c.6 0 1.1.1 1.4.4.3.3.5.7.5 1.2s-.2 1-.5 1.2c-.3.3-.8.4-1.4.4H9.6V7.3zm4.6 9c-.4.3-1 .4-1.7.4H9.6v-3.9h2.9c.7 0 1.3.2 1.7.5.4.3.6.8.6 1.5s-.2 1.2-.6 1.5z\" />\n\t</SVG>\n);\n\nexport default formatBold;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst formatItalic = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12.5 5L10 19h1.9l2.5-14z\" />\n\t</SVG>\n);\n\nexport default formatItalic;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst formatStrikethrough = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M9.1 9v-.5c0-.6.2-1.1.7-1.4.5-.3 1.2-.5 2-.5.7 0 1.4.1 2.1.3.7.2 1.4.5 2.1.9l.2-1.9c-.6-.3-1.2-.5-1.9-.7-.8-.1-1.6-.2-2.4-.2-1.5 0-2.7.3-3.6 1-.8.7-1.2 1.5-1.2 2.6V9h2zM20 12H4v1h8.3c.3.1.6.2.8.3.5.2.9.5 1.1.8.3.3.4.7.4 1.2 0 .7-.2 1.1-.8 1.5-.5.3-1.2.5-2.1.5-.8 0-1.6-.1-2.4-.3-.8-.2-1.5-.5-2.2-.8L7 18.1c.5.2 1.2.4 2 .6.8.2 1.6.3 2.4.3 1.7 0 3-.3 3.9-1 .9-.7 1.3-1.6 1.3-2.8 0-.9-.2-1.7-.7-2.2H20v-1z\" />\n\t</SVG>\n);\n\nexport default formatStrikethrough;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst help = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z\" />\n\t</SVG>\n);\n\nexport default help;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst keyboardReturn = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z\" />\n\t</SVG>\n);\n\nexport default keyboardReturn;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst language = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M17.5 10h-1.7l-3.7 10.5h1.7l.9-2.6h3.9l.9 2.6h1.7L17.5 10zm-2.2 6.3 1.4-4 1.4 4h-2.8zm-4.8-3.8c1.6-1.8 2.9-3.6 3.7-5.7H16V5.2h-5.8V3H8.8v2.2H3v1.5h9.6c-.7 1.6-1.8 3.1-3.1 4.6C8.6 10.2 7.8 9 7.2 8H5.6c.6 1.4 1.7 2.9 2.9 4.4l-2.4 2.4c-.3.4-.7.8-1.1 1.2l1 1 1.2-1.2c.8-.8 1.6-1.5 2.3-2.3.8.9 1.7 1.7 2.5 2.5l.6-1.5c-.7-.6-1.4-1.3-2.1-2z\" />\n\t</SVG>\n);\n\nexport default language;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst linkOff = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z\" />\n\t</SVG>\n);\n\nexport default linkOff;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst link = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z\" />\n\t</SVG>\n);\n\nexport default link;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst subscript = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.9 18.3l.8-1.2c.4-.6.7-1.2.9-1.6.2-.4.3-.8.3-1.2 0-.3-.1-.7-.2-1-.1-.3-.4-.5-.6-.7-.3-.2-.6-.3-1-.3s-.8.1-1.1.2c-.3.1-.7.3-1 .6l.2 1.3c.3-.3.5-.5.8-.6s.6-.2.9-.2c.3 0 .5.1.7.2.2.2.2.4.2.7 0 .3-.1.5-.2.8-.1.3-.4.7-.8 1.3L15 19.4h4.3v-1.2h-2.4zM14.1 7.2h-2L9.5 11 6.9 7.2h-2l3.6 5.3L4.7 18h2l2.7-4 2.7 4h2l-3.8-5.5 3.8-5.3z\" />\n\t</SVG>\n);\n\nexport default subscript;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst superscript = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.9 10.3l.8-1.3c.4-.6.7-1.2.9-1.6.2-.4.3-.8.3-1.2 0-.3-.1-.7-.2-1-.2-.2-.4-.4-.7-.6-.3-.2-.6-.3-1-.3s-.8.1-1.1.2c-.3.1-.7.3-1 .6l.1 1.3c.3-.3.5-.5.8-.6s.6-.2.9-.2c.3 0 .5.1.7.2.2.2.2.4.2.7 0 .3-.1.5-.2.8-.1.3-.4.7-.8 1.3l-1.8 2.8h4.3v-1.2h-2.2zm-2.8-3.1h-2L9.5 11 6.9 7.2h-2l3.6 5.3L4.7 18h2l2.7-4 2.7 4h2l-3.8-5.5 3.8-5.3z\" />\n\t</SVG>\n);\n\nexport default superscript;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst textColor = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12.9 6h-2l-4 11h1.9l1.1-3h4.2l1.1 3h1.9L12.9 6zm-2.5 6.5l1.5-4.9 1.7 4.9h-3.2z\" />\n\t</SVG>\n);\n\nexport default textColor;\n","module.exports = window[\"wp\"][\"a11y\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"richText\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { registerFormatType } from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport formats from './default-formats';\n\nformats.forEach( ( { name, ...settings } ) =>\n\tregisterFormatType( name, settings )\n);\n"],"names":["__","toggleFormat","RichTextToolbarButton","RichTextShortcut","__unstableRichTextInputEvent","formatBold","name","title","bold","tagName","className","edit","isActive","value","onChange","onFocus","onToggle","type","onClick","remove","applyFormat","code","codeIcon","__unstableInputRule","BACKTICK","start","text","characterBefore","indexBefore","lastIndexOf","startIndex","endIndex","image","italic","link","strikethrough","underline","textColor","subscript","superscript","keyboard","unknown","language","Path","SVG","Popover","Button","__experimentalNumberControl","NumberControl","__experimentalHStack","HStack","useState","insertObject","useAnchor","MediaUpload","MediaUploadCheck","keyboardReturn","ALLOWED_MEDIA_TYPES","keywords","object","attributes","style","url","alt","Edit","InlineUI","activeObjectAttributes","contentRef","width","setWidth","replace","popoverAnchor","editableContentElement","current","settings","event","newReplacements","replacements","slice","preventDefault","newWidth","isObjectActive","isModalOpen","setIsModalOpen","openModal","closeModal","id","imgWidth","Math","min","open","formatItalic","button","TextControl","SelectControl","removeFormat","languageIcon","isPopoverVisible","setIsPopoverVisible","togglePopover","state","InlineLanguageUI","onClose","lang","setLang","dir","setDir","val","label","getTextContent","isCollapsed","isURL","isEmail","decodeEntities","linkIcon","linkOff","speak","InlineLinkUI","isValidHref","activeAttributes","addingLink","setAddingLink","addLink","stopAddingLink","returnFocus","onRemoveFormat","target","__unstablePasteRule","html","plainText","pastedText","trim","window","console","log","useRef","createInterpolateElement","sprintf","withSpokenMessages","prependHTTP","create","insert","split","concat","__experimentalLinkControl","LinkControl","store","blockEditorStore","useSelect","createLinkFormat","getFormatBoundary","useLinkInstanceKey","richLinkTextValue","getRichTextValueFromSelection","richTextText","nextLinkValue","setNextLinkValue","createPageEntity","userCanCreatePages","select","getSettings","_settings","__experimentalCreatePageEntity","__experimentalUserCanCreatePages","linkValue","opensInNewTab","removeLink","newValue","onChangeLink","nextValue","didToggleSetting","didToggleSettingForNewLink","undefined","newUrl","linkFormat","String","opensInNewWindow","newText","toInsert","length","boundary","valBefore","valAfter","newValAfter","end","activeFormats","forceRemountKey","focusOnMount","handleCreate","pageTitle","page","status","rendered","kind","createButtonText","searchTerm","mark","textStart","textEnd","weakMap","WeakMap","prefix","getKey","_id","instance","has","get","set","getProtocol","isValidProtocol","getAuthority","isValidAuthority","getPath","isValidPath","getQueryString","isValidQueryString","getFragment","isValidFragment","href","trimmedHref","test","protocol","startsWith","authority","path","queryString","fragment","format","rel","EMPTY_BOUNDARIES","formats","targetFormat","initialIndex","newFormats","formatAtStart","find","formatAtEnd","formatAtEndMinusOne","index","indexOf","walkingArgs","walkToStart","walkToEnd","walkToBoundary","targetFormatRef","formatIndex","direction","directions","forwards","backwards","directionIncrement","inverseDirectionIncrement","partialRight","fn","partialArgs","args","formatStrikethrough","subscriptIcon","superscriptIcon","useCallback","useMemo","useSetting","Icon","color","colorIcon","textColorIcon","default","InlineColorUI","getActiveColors","transparentValue","EMPTY_ARRAY","getComputedStyleProperty","element","property","ownerDocument","defaultView","getComputedStyle","getPropertyValue","parentElement","fillComputedColors","backgroundColor","TextColorEdit","allowCustomControl","colors","isAddingColor","setIsAddingColor","enableIsAddingColor","disableIsAddingColor","colorIndicatorStyle","hasColorsToChoose","Object","keys","class","__unstableFilterAttributeValue","key","includes","addedCSS","join","getActiveFormat","ColorPalette","getColorClassName","getColorObjectByColorValue","getColorObjectByAttributeValues","useCachedTruthy","TabPanel","parseCSS","css","reduce","accumulator","rule","parseClassName","colorSettings","endsWith","colorSlug","colorObject","activeColorFormat","setColors","styles","classNames","push","slug","ColorPicker","onColorChange","activeColors","tab","help","selectedValue","hasUnknownFormats","some","cloneElement","icon","size","props","height","registerFormatType","forEach"],"sourceRoot":""}